<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="Đặng Hữu Minh">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Dang&#39;s Blog">
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Dang&#39;s Blog">

    <!--Type page-->
    
        <meta property="og:type" content="website">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>Dang&#39;s Blog</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">Dang's Blog</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/07/14/Truyen-Ngan/">
                Truyện chưa có tên
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-07-14</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h1 id="Chuong-1-Gap-go"><a href="#Chuong-1-Gap-go" class="headerlink" title="Chương 1: Gặp gỡ"></a>Chương 1: Gặp gỡ</h1><p>Đã là tháng thứ hai Gia Hân đi làm ở công ty mới. Vì chưa bỏ được thói quen ngủ muộn, nên hôm nay cô suýt đến công ty trễ. Chạy được đến thang máy, nhìn đồng hồ, “Còn 3 phút nữa “. Trong thang máy lúc này chỉ có cô và một thanh niên nữa. Đến tầng 20, cô bước ra, chàng trai cũng bước ra. Khuôn mặt chàng trai ngơ ngác, đuổi theo Gia Hân. </p>
<p>-Chị ơi, cho em hỏi với, công ty HNS ở đâu vậy chị ?.</p>
<p>Nhưng Gia Hân đã vụt mất, bỏ mặc chàng trai lại. “May quá vừa kịp giờ”. Điểm danh vân tay xong, cô vội vã bước vào bàn làm việc của mình. Cô nhìn ra phía cửa, có một thanh niên mà cô gặp ở thang máy đi vào. Hình như người này đến phỏng vấn. Cô cũng chả bận tâm, không phải việc của mình. </p>
<p>Hôm nay công việc cũng không có gì nhiều. “Để tí làm” - Gia Hân tự nhủ. Ngồi lướt facebook một lúc, chả có tin tức gì mới. Được một lúc, người thanh niên đi ra, khuôn mặt thất thần. Đến lúc này cô mới chú ý bộ dạng của anh. Khá điển trai, mặc một chiếc áo sơ mi xanh da trời, trên tay cầm bộ hồ sơ. Cô nghĩ “Chắc trượt phỏng vấn rồi, trai đẹp đến mầy mà vô dụng thì cũng bỏ đi “.</p>
<p>Gió điều hòa hơi se lạnh, cô đứng dậy vươn vai, uể oải tiến đến bàn pha Cafe. </p>
<p>-Hôm nay sao mặt buồn thế em ? - Phát hỏi.</p>
<p>-Cũng không có gì, điều hòa lạnh quá thôi. - Gia Hân đáp.</p>
<p>Phát - dáng hơi đậm, trên mắt là cặp kính cận, làm ở phòng Marketing. Luôn tốt với mọi người, đặc biệt là phụ nữ. Hắn crush Gia Hân từ lần đầu tiên gặp mặt. Cô có nhan sắc khá bình thường, nhưng có đôi mắt biết nói. Chỉ cần đôi mắt ấy năn nỉ thôi, hắn có thể làm bất cứ điều gì. Tiếc là, hẵn còn chưa là bạn với cố, chỉ là đồng nghiệp thôi, còn khác bộ phận nữa, nên ánh mắt năn nỉ ấy chắc sẽ chẳng bao giờ xuất hiện.</p>
<p>Kết thúc giờ làm, mọi người lần lượt checkout ra về. Gia Hân mặc bộ áo chống nắng, thứ giúp cô gia nhập làng nhẫn giả lead. Phóng xe vèo vèo trên đường, bóp còi, leo vỉa, chả việc gì cô không làm cả. Về đến nhà, lại tất bật nhảy vào để nấu ăn. Hôm nay là ngày cuối tuần, ăn xong lại dán mặt vào màn hình điện thoại. Mệt quá, cô ngủ thiếp đi lúc nào không hay.</p>
<p>“Reng reng”. Tiếng chuông cửa làm Gia Hân tỉnh giấc, cô bước ra mở cửa. Thì ra là người giao hàng, mấy hôm trước cô đặt mua một chiếc váy. “Mình mua cái này làm gì không biết ?” - Gia Hân nhìn vào chiếc váy. Một cái váy hết sức sặc sỡ và sang trọng. Đi chơi với lũ bạn cờ hó ư ? Với bọn nó thì quá sỉ nhục chiếc váy ? Đi chơi với người yêu ? Hang này chưa ai thám hiểm. “Thôi kệ đi, tính sau” - Cô nghĩ. Mặc nguyên bộ quần áo ngủ ( không phải mấy kiểu sexy đâu), Gia Hân đi mang Laptop ra cửa hàng tiện lợi bên đường ngồi. Ăn mặc như này mà ra ngồi Cafe không ổn lắm. Cô thích ngồi ở đây. Điều hòa có, wifi có. Cô mở phimmoi ra, xem vài bộ phim yêu thích, ăn snack.</p>
<p>Đến gần trưa, xem phim cũng quá chán rồi, Gia Hân về nhà, tranh thủ tạt qua chợ để mua vài thứ. Đi đến cổng chợ, bỗng cô khựng lại. Chàng trai đến phỏng vấn hôm qua. Anh đang mặc bộ đồng phục GoViet và ngồi cạnh chiếc xe wave cũ. Hình như anh cũng nhận ra cô. Cô bước qua với ánh mắt có chút bối rối. Đứng ở quầy thịt, đang mặc cả với bà bán hàng, thì có tiếng điện thoại. “Hân về ngay đi con, mẹ con mất rồi”. Như sét đánh bên tai, cô đứng như trời chồng mặc cho người bán hàng đang giục. Được vài phút, cô chạy nhanh ra chỗ người lái xe ôm, nói “Anh chở tôi nhanh với, tôi có việc gấp”. Về đến phòng, cô bảo anh đứng đợi mình một lúc. Cô thay quần áo và quay ra. “Anh trở tôi ra bến xe”.</p>
<p>Nhân, tên của anh. Nhân là sinh viên mới ra trường, đang đi tìm việc. Tranh thủ chạy xe ôm để kiếm thêm thu nhập. Nghe thấy tiếng khóc sụt sùi, anh hỏi:</p>
<p>-Cô có ổn không?</p>
<p>-Tôi ổn, chỉ là đang có chuyện buồn - Gia Hân.</p>
<p>Nhân cảm thấy không nên hỏi nữa và tiếp tục chạy xe. Vừa xuống xe, anh thấy Gia Hân sờ túi. “Chết rồi, mình để quên ví ở phòng rồi, làm sao bây giờ” - Cô nghĩ. Như hiểu chuyện, anh nói:</p>
<p>-Khi nào gặp trả cũng được, cho tôi xin số điện thoại của cô. Quê cô ở đâu ?</p>
<p>-Sao anh lại hỏi thế ? Thái Bắc- Cô đáp</p>
<p>Anh rút ví ra đưa cô tờ 100 nghìn. “Cô cầm lấy mà đi xe này, về nhanh, người nhà mong”. Cô nở một nụ cười, đôi mắt như phát sáng. “Cảm ơn anh, nhất định tôi sẽ gặp lại anh”. Ánh mắt như có ma lực ấy làm thôi miên Nhân. Anh chưa bao giờ có cảm giác nào như thế này. “Uống nhầm ánh mắt say cả đời” - câu hát chợt lóe lên trong đầu Nhân. Một lúc sau, khi cô đã lên xe rồi, anh mới bừng tỉnh. </p>
<p>“Nhất định phải gặp lại cô ấy” - Nhân nghĩ.</p>
<p>…còn tiếp</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/05/28/Soan-thao-van-ban-voi-Typora/">
                Soạn thảo văn bản với Typora
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-05-28</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/05/09/Reduce/">
                Reduce và reducer
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-05-09</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>Hôm nay mình sẽ nói về reduce và reducer, một hàm rất hay trong lập trình. Mình sẽ trình bày những ứng dụng của nó vào việc lập trình</p>
<h1 id="Khai-niem"><a href="#Khai-niem" class="headerlink" title="Khái niệm"></a>Khái niệm</h1><p><em>Reducers là những hàm nhận vào một giá trị, sau đó trả về giá trị khác dựa trên giá trị nhập vào</em></p>
<p>Đây là một khái niệm trong lập trình hàm, trong đó các hàm số là những pure function (không có side-effect). Reducer vì vậy ( khi áp dụng trong những ngôn ngữ tự do như javascript)  cũng nên là pure function </p>
<p>Ví dụ :<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> increase = <span class="function"><span class="params">val</span> =&gt;</span> val+<span class="number">1</span>;</span><br></pre></td></tr></table></figure></p>
<p>Khái niệm reducer rất đơn giản, nhưng khi ứng dụng nó với hàm reduce, sẽ mang lại một hiệu quả cao.</p>
<h1 id="Tinh-tong-mot-mang"><a href="#Tinh-tong-mot-mang" class="headerlink" title="Tính tổng một mảng"></a>Tính tổng một mảng</h1><p>Dưới đây mình sẽ dùng 2 cách<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Mang ban dau</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Sử dụng for loop</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; arr.length; index++) </span><br><span class="line">&#123;</span><br><span class="line">    sum+= arr[index];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Su dung reduce</span></span><br><span class="line"><span class="keyword">const</span> initial = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">prev,current</span>)=&gt;</span>pre+current;</span><br><span class="line"><span class="keyword">const</span> sum2 = arr.reduce(reducer,initial);</span><br><span class="line"><span class="built_in">console</span>.log(sum2);</span><br></pre></td></tr></table></figure></p>
<p>Cụ thể hơn, nếu như sử dụng for loop, bạn sử dụng một biến để lưu tổng của mảng, và biến này sẽ thay đổi trong chương trình</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">2</span><br><span class="line">6</span><br><span class="line">12</span><br><span class="line">21</span><br><span class="line">23</span><br></pre></td></tr></table></figure>
<p>Tuy nhiên với cách dùng reduce lại không thế, tổng tạm thời sau mỗi lần lặp đều được tạo mới và được truyền đến lần lặp sau (truyền giá trị ). Tổng cuối cùng chỉ được tạo ra sau lần lặp cuối cùng. Xem hình dưới đây.</p>
<p><img src="https://swiftunboxed.com/images/reduce-summary.png" alt></p>
<h1 id="De-quy"><a href="#De-quy" class="headerlink" title="Đệ quy"></a>Đệ quy</h1><p>Hình dung dễ nhất về reduce, đó là sử dụng đệ quy. Bạn có thể thấy rõ hơn cách hoạt động của reduce.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> len = arr.length;</span><br><span class="line"><span class="keyword">const</span> recursi= <span class="function">(<span class="params">sum,val, index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; len)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> recursi(sum + val,arr[index], index+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(recursi(<span class="number">0</span>,arr[<span class="number">0</span>],<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<h1 id="May-rut-tien"><a href="#May-rut-tien" class="headerlink" title="Máy rút tiền"></a>Máy rút tiền</h1><p>Vì hướng đối tượng của javascript chưa hỗ trợ biến private, nên mình sẽ viết ví dụ này trên C#</p>
<p>Lớp tài khoản. Ta có thể mở rộng bằng việc truyền những hàm khác nhau vào phương thức dispatch.  Trong dispatch, ta có thể hoàn toàn kiểm soát việc thay đổi các trường ( giới hạn những trường được phép sửa). Dispatch giống như một setter, nhưng sẽ mạnh hơn. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class TaiKhoan</span><br><span class="line">    &#123;</span><br><span class="line">        private int SoDu;</span><br><span class="line">        public TaiKhoan()</span><br><span class="line">        &#123;</span><br><span class="line">            SoDu = 0;</span><br><span class="line">        &#125;</span><br><span class="line">        public void dispatch(Func&lt;int,int, int&gt; reducer, int payLoad)</span><br><span class="line">        &#123;</span><br><span class="line">            int soDuSau = reducer(SoDu,payLoad);</span><br><span class="line">            this.SoDu = soDuSau;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>Chương trình chính<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class Program</span><br><span class="line">    &#123;</span><br><span class="line">        static void Main(string[] args)</span><br><span class="line">        &#123;</span><br><span class="line">            var taiKhoan = new TaiKhoan();</span><br><span class="line">            //Rút</span><br><span class="line">            int Rut(int goc, int payload)</span><br><span class="line">            &#123;</span><br><span class="line">                if (goc &gt; payload)</span><br><span class="line">                &#123;</span><br><span class="line">                    return goc - payload;</span><br><span class="line">                &#125;</span><br><span class="line">                Console.Write(&quot;Rút không thành công&quot;);</span><br><span class="line">                return goc;</span><br><span class="line">            &#125;;</span><br><span class="line">            //Nạp</span><br><span class="line">            int Nap(int goc, int payload) =&gt; goc + payload;</span><br><span class="line">            //Kiểm tra</span><br><span class="line">            int Check(int goc, int payload) </span><br><span class="line">            &#123;</span><br><span class="line">                Console.Write(&quot;So tien :&quot; + goc);</span><br><span class="line">                return goc;</span><br><span class="line">            &#125;</span><br><span class="line">            taiKhoan.dispatch(Nap, 1000);</span><br><span class="line">            taiKhoan.dispatch(Check, 0);// 1000;</span><br><span class="line">            Console.WriteLine();</span><br><span class="line">            taiKhoan.dispatch(Rut, 100); </span><br><span class="line">            taiKhoan.dispatch(Check, 1000); // 900;</span><br><span class="line">            Console.Read();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>Khi muốn sửa đổi một class, ta chỉ cần sửa đổi các reducer. Các reducer nên được viết càng dễ hiểu càng tốt, và nó thậm chí còn không biết được các bên trong class có gì. </p>
<p>Điểm yếu: </p>
<h1 id="Ket"><a href="#Ket" class="headerlink" title="Kết"></a>Kết</h1><p>Với kiến thức hạn hẹp của mình, reduce, reducer là một cái gì đó rất cool và thú vị, nó mang lại những cách nghĩ mới, cách code mới. Hiện tại thì với reduce, nó chậm hơn đáng kể so với vòng lặp thông thường, nhưng nó khiễn code dễ đọc hơn rất nhiều và khiến cho việc kiểm soát lỗi tốt hơn.</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/04/11/Tao-mot-thu-vien-JS/">
                Tạo một thư viện JS
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-04-11</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>Viết một thư viện, dù chỉ vài chục dòng, mang lại rất nhiều kiến thức hữu ích. Mình sẽ viết theo những hiểu biết của mình. Hi vọng các bạn sẽ có cho mình nhiều kinh nghiệm. Thư viện mình viết có chức năng rất đơn giản: Một db đơn giản với lưu FILE dạng Blob.</p>
<h1 id="Tao-thu-muc-git"><a href="#Tao-thu-muc-git" class="headerlink" title="Tạo thư mục git"></a>Tạo thư mục git</h1><p>Đầu tiên các bạn tạo remote repostory trên git server yêu thích của bạn, trong tuts này mình sẽ dùng github</p>
<p>Tạo git folder ở local:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init [Tên dụ án git]</span><br></pre></td></tr></table></figure>
<p>Thêm remote cho git folder:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin [Địa chỉ git remote của bạn]</span><br></pre></td></tr></table></figure></p>
<h1 id="Cau-truc-thu-muc"><a href="#Cau-truc-thu-muc" class="headerlink" title="Cấu trúc thư mục"></a>Cấu trúc thư mục</h1><p>Thư mục src sẽ chứa code nguồn, thư mục tests để chạy test, thư mục dist sẽ chứa code release.</p>
<h1 id="Cai-cac-depedencies"><a href="#Cai-cac-depedencies" class="headerlink" title="Cài các depedencies"></a>Cài các depedencies</h1><h1 id="Cau-hinh-webpack"><a href="#Cau-hinh-webpack" class="headerlink" title="Cấu hình webpack"></a>Cấu hình webpack</h1><p>Tạo file webpack.config.js:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-cli @webpack-cli/init</span><br><span class="line">npx webpack-cli init</span><br></pre></td></tr></table></figure></p>
<p>Sau đó sửa lại như sau:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> libraryName = <span class="string">'mamaDB'</span>; <span class="comment">// Hoặc tên thư viện của bạn</span></span><br><span class="line"><span class="keyword">var</span> outputFile = libraryName + <span class="string">'.js'</span>;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">output: &#123;</span><br><span class="line">		path: __dirname+<span class="string">'/dist'</span>,</span><br><span class="line">		filename: outputFile,</span><br><span class="line">		library: libraryName,</span><br><span class="line">		libraryTarget: <span class="string">'umd'</span>,</span><br><span class="line">		umdNamedDefine: <span class="literal">true</span></span><br><span class="line">	&#125;,</span><br></pre></td></tr></table></figure></p>
<h1 id="Module-hoa-code"><a href="#Module-hoa-code" class="headerlink" title="Module hóa code"></a>Module hóa code</h1><p>Đầu tiên ta có code ban đầu:</p>
<p>Nếu các hàm có liên quan đến nhau, hoặc chỉ được gọi ở ngay tại scope đó thì nên để chung. Còn không, chia các hàm thành các file riêng. Khi import sẽ dễ đọc hơn. Một cách khác nữa để import, export nhiều từ một file là sử dụng destructuring:</p>
<h1 id="Test-voi-mocha-va-chai"><a href="#Test-voi-mocha-va-chai" class="headerlink" title="Test với mocha và chai"></a>Test với mocha và chai</h1><p>Test là một công việc rất quan trọng và cần thiết trong lập trình. Hiện tại chúng ta ít còn phải test bằng tay do việc ra đời của các công cụ test rất mạnh mẽ. Ở đây mình sử dụng Mocha để test và Chai để assert.<br>Vì thư viện trên trình duyệt nên test trên môi trường trình duyệt (vì js trên server với trên browser có nhiều khác biệt về các API). Code test trình duyệt:</p>
<ul>
<li><p>HTML</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Mocha Tests<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/mocha/6.1.2/mocha.min.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mocha"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/mocha/6.1.2/mocha.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/chai/4.2.0/chai.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">mocha.setup(<span class="string">'bdd'</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- load code you want to test here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../dist/mamaDB.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> expect = chai.expect;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- load your test files here --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./test.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">      mocha.run();</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JS</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">'mamaDB'</span>,()=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> db = <span class="literal">null</span>;</span><br><span class="line">    beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        db = <span class="keyword">new</span> mamaDB();</span><br><span class="line">    &#125;);</span><br><span class="line">    describe(<span class="string">'after initization'</span>,()=&gt;&#123;</span><br><span class="line">        it(<span class="string">'should return an error after getItem(anykey)'</span>, ()=&gt;&#123;</span><br><span class="line">            expect(db.getItem(<span class="string">"key"</span>).message).to.equal(<span class="string">"Unable to get item"</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">        it(<span class="string">'should return an error after getItem(anykey) with anykey is not string'</span>,()=&gt;&#123;</span><br><span class="line">            expect(db.getItem(<span class="number">1</span>).message).to.equal(<span class="string">"Key is not a string"</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    describe(<span class="string">'Test putItem function'</span>,()=&gt;&#123;</span><br><span class="line">        it(<span class="string">'should return an err if "key" is not string'</span>,()=&gt;&#123;</span><br><span class="line">            expect(db.putItem(<span class="literal">null</span>,<span class="string">"key"</span>).message).to.equal(<span class="string">"invalid type"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        it(<span class="string">'should return an err if "key" is null'</span>,()=&gt;&#123;</span><br><span class="line">            expect(db.putItem(<span class="literal">null</span>,<span class="literal">null</span>).message).to.equal(<span class="string">"invalid type"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        it(<span class="string">'should return an err if "file" is not a FILE'</span>,()=&gt;&#123;</span><br><span class="line">            expect(db.putItem(<span class="string">"D"</span>,<span class="string">"key"</span>).message).to.equal(<span class="string">"invalid type"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        it(<span class="string">'should return an err if "file" is null'</span>,()=&gt;&#123;</span><br><span class="line">            expect(db.putItem(<span class="literal">null</span>,<span class="string">"key"</span>).message).to.equal(<span class="string">"invalid type"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        it(<span class="string">'should return key if succes add to db'</span>,()=&gt;&#123;</span><br><span class="line">            expect(db.putItem(<span class="keyword">new</span> File([<span class="built_in">JSON</span>.stringify(<span class="string">"Text"</span>)],<span class="string">"ex.json"</span>),<span class="string">"key"</span>)).to.equal(<span class="string">"key"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    describe(<span class="string">'Test getItem function'</span>,()=&gt;&#123;</span><br><span class="line">        beforeEach(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            db.putItem(db.putItem(<span class="keyword">new</span> File([<span class="built_in">JSON</span>.stringify(<span class="string">"Text"</span>)],<span class="string">"ex.json"</span>),<span class="string">"key"</span>));</span><br><span class="line">        &#125;)</span><br><span class="line">        it(<span class="string">'Should return item if valid key'</span>);</span><br><span class="line">        it(<span class="string">'Should return error if key is not string'</span>);</span><br><span class="line">        it(<span class="string">'Should return error item if key is null'</span>);</span><br><span class="line">        it(<span class="string">'Should not return item if not valid key'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Mình sử dụng liveserver ngay trong visual studio code để tự cập nhập lại code:</p>
<p>Hàm descbrice dùng để mô tả đoạn test. Hàm it để định nghĩa code cho các đoạn code. </p>
<h1 id="Build-code"><a href="#Build-code" class="headerlink" title="Build code"></a>Build code</h1><h1 id="Ket"><a href="#Ket" class="headerlink" title="Kết"></a>Kết</h1>
        </div>
    

</div>
            
        </section>
    </div>
</div>






</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo">Jonathan Klughertz</a>
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/07/14/Truyen-Ngan/">Truyện chưa có tên</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/05/28/Soan-thao-van-ban-voi-Typora/">Soạn thảo văn bản với Typ</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/05/09/Reduce/">Reduce và reducer</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/04/11/Tao-mot-thu-vien-JS/">Tạo một thư viện JS</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/dangminhbk">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/dangminhbk">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/m.1nh">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:dangminhbk@gmail.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>